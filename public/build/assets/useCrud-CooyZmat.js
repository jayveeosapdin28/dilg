import{V as H,W as N,X as j,Y as A,_ as V,$ as F,a0 as k,F as $,a1 as q,a2 as I,a3 as L,a4 as G,G as U,a5 as z,a6 as K,E as W,a7 as Y,a8 as J,a9 as Q,aa as X,ab as Z,ac as ee,ad as te,ae as se,N as ae,af as oe,m as ne,ag as re,c as ie,f as ue,g as ce,b as le,ah as de,ai as pe,aj as me,ak as fe,al as he,am as ge,d as ve,a as Te,an as be,ao as ye,O as _e,ap as we,aq as Oe,ar as Se,as as Ce,at as Ee,au as Be,av as Re,aw as Me,ax as Pe,ay as xe,az as De,U as He,aA as Ne,aB as je,aC as Ae,H as Ve,aD as Fe,aE as ke,aF as $e,aG as qe,aH as Ie,L as Le,aI as Ge,aJ as Ue,aK as ze,aL as Ke,aM as We,aN as Ye,aO as Je,aP as Qe,aQ as Xe,aR as Ze,aS as et,aT as tt,y as st,n as at,aU as ot,I as nt,aV as rt,aW as it,aX as ut,aY as ct,aZ as lt,a_ as dt,k as pt,a$ as mt,b0 as ft,b1 as ht,b2 as gt,B as vt,b3 as Tt,o as bt,K as yt,P as _t,b4 as wt,J as Ot,b5 as St,S as Ct,b6 as Et,j as Bt,b7 as Rt,b8 as Mt,z as Pt,p as xt,r as Dt,b9 as Ht,ba as Nt,bb as jt,bc as At,bd as Vt,be as Ft,bf as kt,bg as $t,bh as qt,R as It,bi as Lt,bj as Gt,bk as Ut,t as zt,bl as Kt,bm as Wt,bn as Yt,bo as Jt,bp as Qt,bq as Xt,br as Zt,bs as es,u as ts,bt as ss,bu as as,bv as os,h as ns,bw as rs,bx as is,by as us,bz as cs,bA as ls,bB as ds,bC as ps,v as ms,C as fs,bD as hs,bE as gs,q as vs,M as Ts,bF as bs,bG as ys,bH as _s,w as ws,bI as Os,l as Ss,A as Cs,bJ as Es,e as Bs,bK as Rs,bL as Ms,s as Ps,D as g}from"./app-CKE0wOnX.js";import{C as xs}from"./useConfirmMessage-DLEjWJ4x.js";/**
* vue v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Ds=()=>{},Hs=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:H,BaseTransitionPropsValidators:N,Comment:j,DeprecationTypes:A,EffectScope:V,ErrorCodes:F,ErrorTypeStrings:k,Fragment:$,KeepAlive:q,ReactiveEffect:I,Static:L,Suspense:G,Teleport:U,Text:z,TrackOpTypes:K,Transition:W,TransitionGroup:Y,TriggerOpTypes:J,VueElement:Q,assertNumber:X,callWithAsyncErrorHandling:Z,callWithErrorHandling:ee,camelize:te,capitalize:se,cloneVNode:ae,compatUtils:oe,compile:Ds,computed:ne,createApp:re,createBlock:ie,createCommentVNode:ue,createElementBlock:ce,createElementVNode:le,createHydrationRenderer:de,createPropsRestProxy:pe,createRenderer:me,createSSRApp:fe,createSlots:he,createStaticVNode:ge,createTextVNode:ve,createVNode:Te,customRef:be,defineAsyncComponent:ye,defineComponent:_e,defineCustomElement:we,defineEmits:Oe,defineExpose:Se,defineModel:Ce,defineOptions:Ee,defineProps:Be,defineSSRCustomElement:Re,defineSlots:Me,devtools:Pe,effect:xe,effectScope:De,getCurrentInstance:He,getCurrentScope:Ne,getTransitionRawChildren:je,guardReactiveProps:Ae,h:Ve,handleError:Fe,hasInjectionContext:ke,hydrate:$e,initCustomFormatter:qe,initDirectivesForSSR:Ie,inject:Le,isMemoSame:Ge,isProxy:Ue,isReactive:ze,isReadonly:Ke,isRef:We,isRuntimeOnly:Ye,isShallow:Je,isVNode:Qe,markRaw:Xe,mergeDefaults:Ze,mergeModels:et,mergeProps:tt,nextTick:st,normalizeClass:at,normalizeProps:ot,normalizeStyle:nt,onActivated:rt,onBeforeMount:it,onBeforeUnmount:ut,onBeforeUpdate:ct,onDeactivated:lt,onErrorCaptured:dt,onMounted:pt,onRenderTracked:mt,onRenderTriggered:ft,onScopeDispose:ht,onServerPrefetch:gt,onUnmounted:vt,onUpdated:Tt,openBlock:bt,popScopeId:yt,provide:_t,proxyRefs:wt,pushScopeId:Ot,queuePostFlushCb:St,reactive:Ct,readonly:Et,ref:Bt,registerRuntimeCompiler:Rt,render:Mt,renderList:Pt,renderSlot:xt,resolveComponent:Dt,resolveDirective:Ht,resolveDynamicComponent:Nt,resolveFilter:jt,resolveTransitionHooks:At,setBlockTracking:Vt,setDevtoolsHook:Ft,setTransitionHooks:kt,shallowReactive:$t,shallowReadonly:qt,shallowRef:It,ssrContextKey:Lt,ssrUtils:Gt,stop:Ut,toDisplayString:zt,toHandlerKey:Kt,toHandlers:Wt,toRaw:Yt,toRef:Jt,toRefs:Qt,toValue:Xt,transformVNodeArgs:Zt,triggerRef:es,unref:ts,useAttrs:ss,useCssModule:as,useCssVars:os,useModel:ns,useSSRContext:rs,useSlots:is,useTransitionState:us,vModelCheckbox:cs,vModelDynamic:ls,vModelRadio:ds,vModelSelect:ps,vModelText:ms,vShow:fs,version:hs,warn:gs,watch:vs,watchEffect:Ts,watchPostEffect:bs,watchSyncEffect:ys,withAsyncContext:_s,withCtx:ws,withDefaults:Os,withDirectives:Ss,withKeys:Cs,withMemo:Es,withModifiers:Bs,withScopeId:Rs},Symbol.toStringTag,{value:"Module"}));var E={exports:{}};const Ns=Ms(Hs);(function(w,B){(function(T,o){w.exports=o(Ns)})(Ps,v=>(()=>{var T={772:(s,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.default=(r,f)=>{const p=r.__vccOpts||r;for(const[b,y]of f)p[b]=y;return p}},976:s=>{s.exports=v}},o={};function c(s){var n=o[s];if(n!==void 0)return n.exports;var r=o[s]={exports:{}};return T[s](r,r.exports,c),r.exports}c.d=(s,n)=>{for(var r in n)c.o(n,r)&&!c.o(s,r)&&Object.defineProperty(s,r,{enumerable:!0,get:n[r]})},c.o=(s,n)=>Object.prototype.hasOwnProperty.call(s,n),c.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var l={};return(()=>{c.r(l),c.d(l,{ToastComponent:()=>O,ToastPlugin:()=>C,ToastPositions:()=>i,default:()=>x,useToast:()=>S});var s=c(976);const n=(0,s.createElementVNode)("div",{class:"v-toast__icon"},null,-1),r=["innerHTML"];function f(e,t,a,u,m,h){return(0,s.openBlock)(),(0,s.createBlock)(s.Transition,{"enter-active-class":e.transition.enter,"leave-active-class":e.transition.leave},{default:(0,s.withCtx)(()=>[(0,s.withDirectives)((0,s.createElementVNode)("div",{ref:"root",role:"alert",class:(0,s.normalizeClass)(["v-toast__item",[`v-toast__item--${e.type}`,`v-toast__item--${e.position}`]]),onMouseover:t[0]||(t[0]=D=>e.toggleTimer(!0)),onMouseleave:t[1]||(t[1]=D=>e.toggleTimer(!1)),onClick:t[2]||(t[2]=function(){return e.whenClicked&&e.whenClicked(...arguments)})},[n,(0,s.createElementVNode)("p",{class:"v-toast__text",innerHTML:e.message},null,8,r)],34),[[s.vShow,e.isActive]])]),_:1},8,["enter-active-class","leave-active-class"])}function p(e){var t;typeof e.remove<"u"?e.remove():(t=e.parentNode)==null||t.removeChild(e)}function b(e,t,a){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const m=(0,s.h)(e,t,u),h=document.createElement("div");return h.classList.add("v-toast--pending"),a.appendChild(h),(0,s.render)(m,h),m.component}class y{constructor(t,a){this.startedAt=Date.now(),this.callback=t,this.delay=a,this.timer=setTimeout(t,a)}pause(){this.stop(),this.delay-=Date.now()-this.startedAt}resume(){this.stop(),this.startedAt=Date.now(),this.timer=setTimeout(this.callback,this.delay)}stop(){clearTimeout(this.timer)}}const i=Object.freeze({TOP_RIGHT:"top-right",TOP:"top",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left"});function R(e){return{all:e=e||new Map,on:function(t,a){var u=e.get(t);u?u.push(a):e.set(t,[a])},off:function(t,a){var u=e.get(t);u&&(a?u.splice(u.indexOf(a)>>>0,1):e.set(t,[]))},emit:function(t,a){var u=e.get(t);u&&u.slice().map(function(m){m(a)}),(u=e.get("*"))&&u.slice().map(function(m){m(t,a)})}}}const _=R(),M=(0,s.defineComponent)({name:"Toast",props:{message:{type:String,required:!0},type:{type:String,default:"success"},position:{type:String,default:i.BOTTOM_RIGHT,validator(e){return Object.values(i).includes(e)}},duration:{type:Number,default:3e3},dismissible:{type:Boolean,default:!0},onDismiss:{type:Function,default:()=>{}},onClick:{type:Function,default:()=>{}},queue:Boolean,pauseOnHover:{type:Boolean,default:!0}},data(){return{isActive:!1,parentTop:null,parentBottom:null,isHovered:!1}},beforeMount(){this.setupContainer()},mounted(){this.showNotice(),_.on("toast-clear",this.dismiss)},methods:{setupContainer(){if(this.parentTop=document.querySelector(".v-toast.v-toast--top"),this.parentBottom=document.querySelector(".v-toast.v-toast--bottom"),this.parentTop&&this.parentBottom)return;this.parentTop||(this.parentTop=document.createElement("div"),this.parentTop.className="v-toast v-toast--top"),this.parentBottom||(this.parentBottom=document.createElement("div"),this.parentBottom.className="v-toast v-toast--bottom");const e=document.body;e.appendChild(this.parentTop),e.appendChild(this.parentBottom)},shouldQueue(){return this.queue?this.parentTop.childElementCount>0||this.parentBottom.childElementCount>0:!1},dismiss(){this.timer&&this.timer.stop(),clearTimeout(this.queueTimer),this.isActive=!1,setTimeout(()=>{this.onDismiss.apply(null,arguments);const e=this.$refs.root;(0,s.render)(null,e),p(e)},150)},showNotice(){if(this.shouldQueue()){this.queueTimer=setTimeout(this.showNotice,250);return}const e=this.$refs.root.parentElement;this.correctParent.insertAdjacentElement("afterbegin",this.$refs.root),p(e),this.isActive=!0,this.duration&&(this.timer=new y(this.dismiss,this.duration))},whenClicked(){this.dismissible&&(this.onClick.apply(null,arguments),this.dismiss())},toggleTimer(e){!this.pauseOnHover||!this.timer||(e?this.timer.pause():this.timer.resume())}},computed:{correctParent(){switch(this.position){case i.TOP:case i.TOP_RIGHT:case i.TOP_LEFT:return this.parentTop;case i.BOTTOM:case i.BOTTOM_RIGHT:case i.BOTTOM_LEFT:return this.parentBottom}},transition(){switch(this.position){case i.TOP:case i.TOP_RIGHT:case i.TOP_LEFT:return{enter:"v-toast--fade-in-down",leave:"v-toast--fade-out"};case i.BOTTOM:case i.BOTTOM_RIGHT:case i.BOTTOM_LEFT:return{enter:"v-toast--fade-in-up",leave:"v-toast--fade-out"}}}},beforeUnmount(){_.off("toast-clear",this.dismiss)}});var P=c(772);const O=(0,P.default)(M,[["render",f]]),S=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{open(t){let a=null;typeof t=="string"&&(a=t);const m=Object.assign({},{message:a},e,t);return{dismiss:b(O,m,document.body).ctx.dismiss}},clear(){_.emit("toast-clear")},success(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:t,type:"success"},a))},error(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:t,type:"error"},a))},info(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:t,type:"info"},a))},warning(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:t,type:"warning"},a))},default(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:t,type:"default"},a))}}},C={install:function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=S(t);e.config.globalProperties.$toast=a,e.provide("$toast",a)}},x=C})(),l})())})(E);var js=E.exports;const d=js.useToast({position:"top-right",queue:!0});function $s(w){return{submitForm:(o,c,l=null,s=null,n=null,r=!1)=>new Promise((f,p)=>{o.id?r?(o._method="PUT",o.post(route(c,o.id),{preserveScroll:s,preserveState:n,onSuccess:()=>{d.success("Record successfully saved"),l&&g.visit(l),f("Success")},onError:()=>{d.error("Oops, something went wrong"),p("Error")}})):o.patch(route(c,o.id),{preserveScroll:s,preserveState:n,onSuccess:()=>{d.success("Record successfully saved"),l&&g.visit(l),f("Success")},onError:()=>{d.error("Oops, something went wrong"),p("Error")}}):o.post(route(c),{preserveScroll:s,preserveState:n,onSuccess:()=>{o.reset(),l&&g.visit(l),d.success("Record successfully saved"),f("Success")},onError:()=>{d.error("Oops, something went wrong"),p("Error")}})}),destroy:o=>{xs().confirm("You are about to delete the current record. Continue?").then(()=>{g.delete(o,{onSuccess:()=>{d.success("Record successfully deleted")},onError:()=>{d.error("Oops, something went wrong")}})}).catch(()=>{})},update_status:o=>{ElMessageBox.confirm("You will update the status of this record. Continue?","Info",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"info"}).then(()=>{g.post(o,{onSuccess:()=>{d.success("Record successfully saved")},onError:()=>{d.error("Oops, something went wrong")}})}).catch(()=>{ElMessage({type:"info",message:"Update Canceled"})})}}}export{$s as u};
