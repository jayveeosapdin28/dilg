import{T as F,q as V,m as $,r as p,o as w,g as E,a,u as o,w as d,F as N,b as v,t as f,d as c}from"./app-DDm3ur_q.js";import{u as T}from"./useCrud-e9fVmAFn.js";import{L as U,N as B}from"./NavigationDrawer-DUxpNc25.js";import"./useConfirmMessage-C-IUxGMr.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const k={class:"font-semibold text-lg"},D={class:"flex gap-4 justify-end"},I={__name:"EventForm",props:{modelValue:[Boolean,String],storeId:[String,Number],data:Object},emits:["update:modelValue","close","on-success"],setup(_,{emit:g}){const l=_,i=g;let e=F({id:null,event_name:l.event_name,description:l.description,date_open:l.date_open,date_close:l.date_close,status:l.status});V(()=>l.data,s=>{e.id=s.id??null,e.event_name=s.event_name??null,e.description=s.description??null,e.date_open=s.date_open??null,e.date_closed=s.date_closed??null,e.status=s.status??null});const n=$({set:s=>{i("update:modelValue",s)},get:()=>l.modelValue}),{submitForm:b}=T(),y=async()=>{await b(e,`admin.events.${e.id?"update":"store"}`,null,!0,!0).then(s=>{i("on-success"),e.reset(),n.value=!1})},C=()=>{e.reset(),i("close")};return V(()=>n.value,()=>{n.value||e.reset()}),(s,t)=>{const m=p("VTextField"),x=p("VTextarea"),u=p("VBtn");return w(),E(N,null,[a(U,{show:o(e).processing},null,8,["show"]),a(B,{class:"z-50",onClose:C,modelValue:n.value,"onUpdate:modelValue":t[10]||(t[10]=r=>n.value=r),size:"400"},{header:d(()=>[v("p",k,f(`${o(e).id?"Update":"Create"} Event`),1)]),default:d(()=>[a(m,{color:"primary",label:"Name",variant:"outlined",density:"comfortable",modelValue:o(e).event_name,"onUpdate:modelValue":[t[0]||(t[0]=r=>o(e).event_name=r),t[1]||(t[1]=r=>o(e).clearErrors("event_name"))],"error-messages":o(e).errors.event_name},null,8,["modelValue","error-messages"]),a(m,{color:"primary",label:"Date From",variant:"outlined",type:"date",density:"comfortable",modelValue:o(e).date_open,"onUpdate:modelValue":[t[2]||(t[2]=r=>o(e).date_open=r),t[3]||(t[3]=r=>o(e).clearErrors("date_open"))],"error-messages":o(e).errors.date_open},null,8,["modelValue","error-messages"]),a(m,{color:"primary",label:"Date To",type:"date",variant:"outlined",density:"comfortable",modelValue:o(e).date_close,"onUpdate:modelValue":[t[4]||(t[4]=r=>o(e).date_close=r),t[5]||(t[5]=r=>o(e).clearErrors("date_close"))],"error-messages":o(e).errors.date_close},null,8,["modelValue","error-messages"]),a(x,{color:"primary",label:"Description",variant:"outlined",density:"comfortable",modelValue:o(e).description,"onUpdate:modelValue":[t[6]||(t[6]=r=>o(e).description=r),t[7]||(t[7]=r=>o(e).clearErrors("description"))],"error-messages":o(e).errors.description},null,8,["modelValue","error-messages"])]),footer:d(()=>[v("div",D,[a(u,{color:"error",onClick:t[8]||(t[8]=r=>n.value=!1)},{default:d(()=>[c(" Close ")]),_:1}),a(u,{onClick:t[9]||(t[9]=r=>o(e).reset())},{default:d(()=>[c(" Clear Fields ")]),_:1}),a(u,{variant:"flat",color:"primary",onClick:y},{default:d(()=>[c(f(o(e).id?"Update":"Submit"),1)]),_:1})])]),_:1},8,["modelValue"])],64)}}};export{I as default};
