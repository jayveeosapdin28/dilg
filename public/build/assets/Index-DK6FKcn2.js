import{_ as T}from"./AuthenticatedLayout-8DZWhUx3.js";import{r as $,o as u,c as v,w as o,d as k,t as _,u as l,i as F,g as h,b as t,j as p,m as g,k as N,a,F as b,Q as C,Z as P,f as x}from"./app-DDm3ur_q.js";import{_ as R}from"./DataTable-9lVUghE3.js";import{_ as U,a as z}from"./ActionEdit-DD3bpGmO.js";import{u as E}from"./useCrud-e9fVmAFn.js";import H from"./TaskForm-CDGvjopW.js";import{_ as I}from"./StatusBadge-Dg5-M4Eb.js";import{_ as L}from"./PageHeading-DVYt6gRm.js";import{u as M}from"./useRole-CIxqukLy.js";import{u as Q}from"./useFormat-RxmIVP2I.js";import"./useConfirmMessage-C-IUxGMr.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavigationDrawer-DUxpNc25.js";import"./filepond-plugin-image-preview.esm-CI_uTiYr.js";import"./dayjs.min-uTdHuEOZ.js";const Z={__name:"PriorityBadge",props:{status:String},setup(r){const s=i=>({low:"info",medium:"warning",high:"error"})[i.toLowerCase().replace(/\s+/g,"_")];return(i,c)=>{const f=$("VChip");return u(),v(f,{size:"small",color:s(r.status),variant:"tonal"},{default:o(()=>[k(_(r.status.toUpperCase()),1)]),_:1},8,["color"])}}},q=t("i",{class:"bi bi-eye text-green-500"},null,-1),G=t("i",{class:"bi bi-eye text-green-500"},null,-1),J=[G],K={__name:"ActionView",props:{link:Boolean,to:String},emits:["click"],setup(r){return(s,i)=>r.link?(u(),v(l(F),{key:0,href:r.to,class:"hover:bg-primary-200 flex justify-center items-center h-6 w-6 rounded-full"},{default:o(()=>[q]),_:1},8,["href"])):(u(),h("button",{key:1,onClick:i[0]||(i[0]=c=>s.$emit("click")),class:"hover:bg-primary-200 flex justify-center items-center h-6 w-6 rounded-full"},J))}},O={class:"space-x-4"},W=t("i",{class:"bi bi-plus mr-1"},null,-1),X={class:"overflow-y-auto"},Y={class:"bg-white rounded-lg p-6"},ee={class:"flex items-center gap-3"},te={class:"font-semibold text-sm"},se={class:"text-sm"},ae={class:"flex items-center justify-center gap-3"},oe={class:"flex items-center justify-center gap-3"},ne={class:"flex justify-end items-center"},ie="Tasks",Ce={__name:"Index",setup(r){const{hasRole:s}=M(),{date:i}=Q(),c=p([{label:"Name",field:"name"},{label:"Status",field:"status",align:"center"},{label:"Priority",field:"priority",align:"center"},{label:"Description",field:"description"},{label:"Comment",field:"comments"},{label:"Due Date",field:"due_date"},{label:"Due Date",field:"due_date"},{label:"Actions",field:"action",width:"5%"}]),f=g(()=>C().props.tasks),w=g(()=>C().props.store_id),m=p(!1),y=p({}),V=n=>{y.value={...n},m.value=!0},{destroy:D}=E(),A=n=>{D(route("admin.tasks.destroy",n))},B=[{name:"Tasks",href:"#",current:!0}];return N(()=>{(s("Super Admin")||s("Admin"))&&(c.value=c.value.filter(n=>n.field!=="status"))}),(n,d)=>{const S=$("VBtn");return u(),h(b,null,[a(l(P),{title:"Task"}),a(H,{modelValue:m.value,"onUpdate:modelValue":d[0]||(d[0]=e=>m.value=e),"store-id":w.value,data:y.value},null,8,["modelValue","store-id","data"]),a(T,null,{default:o(()=>[a(L,{title:ie,pages:B},{action:o(()=>[t("div",O,[l(s)("Super Admin")||l(s)("Admin")?(u(),v(S,{key:0,onClick:d[1]||(d[1]=e=>m.value=!0),variant:"outlined",color:"primary"},{default:o(()=>[W,k(" Create ")]),_:1})):x("",!0)])]),_:1}),t("div",X,[t("div",Y,[a(R,{class:"mb-12",columns:c.value,data:f.value,"filter-link":n.route("admin.tasks.index")},{column_name:o(({props:e})=>[t("div",ee,[t("div",null,[t("p",te,_(e.name),1),t("span",se,_(e.email),1)])])]),column_priority:o(({props:e})=>[t("div",ae,[a(Z,{status:e.priority},null,8,["status"])])]),column_status:o(({props:e})=>[t("div",oe,[a(I,{status:e.status},null,8,["status"])])]),column_due_date:o(({props:e})=>[k(_(l(i)(e.due_date)),1)]),column_action:o(({props:e})=>[t("div",ne,[a(K,{link:"",href:n.route("admin.tasks.show",e.id)},null,8,["href"]),l(s)("Super Admin")||l(s)("Admin")?(u(),h(b,{key:0},[a(U,{onClick:j=>V(e)},null,8,["onClick"]),a(z,{onClick:j=>A(e.id)},null,8,["onClick"])],64)):x("",!0)])]),_:1},8,["columns","data","filter-link"])])])]),_:1})],64)}}};export{Ce as default};
