import{T as _,q as p,m as w,r as c,o as F,g as N,a as r,u as o,w as n,F as y,b as f,t as V,d as i}from"./app-Ds5rE3Vu.js";import{u as B}from"./useCrud-C_G_Mrml.js";import{L as $,N as S}from"./NavigationDrawer-BoBNGteH.js";import"./useConfirmMessage-s3JsARgk.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"font-semibold text-lg"},U={class:"flex gap-4 justify-end"},L={__name:"RankForm",props:{modelValue:[Boolean,String],storeId:[String,Number],data:Object},emits:["update:modelValue","close","on-success"],setup(g,{emit:v}){const m=g,u=v;let e=_({id:null,name:m.storeId});p(()=>m.data,s=>{e.id=s.id??null,e.name=s.name??null});const a=w({set:s=>{u("update:modelValue",s)},get:()=>m.modelValue}),{submitForm:C}=B(),b=async()=>{await C(e,`admin.ranks.${e.id?"update":"store"}`,null,!0,!0).then(s=>{u("on-success"),e.reset(),a.value=!1})},k=()=>{e.reset(),u("close")};return p(()=>a.value,()=>{a.value||e.reset()}),(s,t)=>{const x=c("VTextField"),d=c("VBtn");return F(),N(y,null,[r($,{show:o(e).processing},null,8,["show"]),r(S,{class:"z-50",onClose:k,modelValue:a.value,"onUpdate:modelValue":t[4]||(t[4]=l=>a.value=l),size:"400"},{header:n(()=>[f("p",T,V(`${o(e).id?"Update":"Create"} Rank`),1)]),default:n(()=>[r(x,{color:"primary",label:"Name",variant:"outlined",density:"comfortable",modelValue:o(e).name,"onUpdate:modelValue":[t[0]||(t[0]=l=>o(e).name=l),t[1]||(t[1]=l=>o(e).clearErrors("name"))],"error-messages":o(e).errors.name},null,8,["modelValue","error-messages"])]),footer:n(()=>[f("div",U,[r(d,{color:"error",onClick:t[2]||(t[2]=l=>a.value=!1)},{default:n(()=>[i(" Close ")]),_:1}),r(d,{onClick:t[3]||(t[3]=l=>o(e).reset())},{default:n(()=>[i(" Clear Fields ")]),_:1}),r(d,{variant:"flat",color:"primary",onClick:b},{default:n(()=>[i(V(o(e).id?"Update":"Submit"),1)]),_:1})])]),_:1},8,["modelValue"])],64)}}};export{L as default};
