import{T as $,q as f,m as w,r as c,o as F,g as N,a as r,u as t,w as d,F as U,b as g,t as V,d as i}from"./app-DDm3ur_q.js";import{u as B}from"./useCrud-e9fVmAFn.js";import{L as T,N as k}from"./NavigationDrawer-DUxpNc25.js";import"./useConfirmMessage-C-IUxGMr.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"font-semibold text-lg"},S={class:"flex gap-4 justify-end"},q={__name:"CaseForm",props:{modelValue:[Boolean,String],storeId:[String,Number],data:Object},emits:["update:modelValue","close","on-success"],setup(b,{emit:v}){const l=b,m=v;let e=$({id:null,name:l.name,description:l.description,date_open:l.date_open,date_closed:l.date_closed,status:l.status});f(()=>l.data,a=>{e.id=a.id??null,e.name=a.name??null,e.description=a.description??null,e.date_open=a.date_open??null,e.date_closed=a.date_closed??null,e.status=a.status??null});const n=w({set:a=>{m("update:modelValue",a)},get:()=>l.modelValue}),{submitForm:_}=B(),y=async()=>{await _(e,`admin.cases.${e.id?"update":"store"}`,null,!0,!0).then(a=>{m("on-success"),e.reset(),n.value=!1})},C=()=>{e.reset(),m("close")};return f(()=>n.value,()=>{n.value||e.reset()}),(a,o)=>{const u=c("VTextField"),x=c("VTextarea"),p=c("VBtn");return F(),N(U,null,[r(T,{show:t(e).processing},null,8,["show"]),r(k,{class:"z-50",onClose:C,modelValue:n.value,"onUpdate:modelValue":o[10]||(o[10]=s=>n.value=s),size:"400"},{header:d(()=>[g("p",E,V(`${t(e).id?"Update":"Create"} Case`),1)]),default:d(()=>[r(u,{color:"primary",label:"Name",variant:"outlined",density:"comfortable",modelValue:t(e).name,"onUpdate:modelValue":[o[0]||(o[0]=s=>t(e).name=s),o[1]||(o[1]=s=>t(e).clearErrors("name"))],"error-messages":t(e).errors.name},null,8,["modelValue","error-messages"]),i(" "+V(t(e).date_open)+" ",1),r(u,{color:"primary",label:"Open",variant:"outlined",type:"date",density:"comfortable",modelValue:t(e).date_open,"onUpdate:modelValue":[o[2]||(o[2]=s=>t(e).date_open=s),o[3]||(o[3]=s=>t(e).clearErrors("date_open"))],"error-messages":t(e).errors.date_open},null,8,["modelValue","error-messages"]),r(u,{color:"primary",label:"Close",type:"date",variant:"outlined",density:"comfortable",modelValue:t(e).date_closed,"onUpdate:modelValue":[o[4]||(o[4]=s=>t(e).date_closed=s),o[5]||(o[5]=s=>t(e).clearErrors("date_closed"))],"error-messages":t(e).errors.date_closed},null,8,["modelValue","error-messages"]),r(x,{color:"primary",label:"Description",variant:"outlined",density:"comfortable",modelValue:t(e).description,"onUpdate:modelValue":[o[6]||(o[6]=s=>t(e).description=s),o[7]||(o[7]=s=>t(e).clearErrors("description"))],"error-messages":t(e).errors.description},null,8,["modelValue","error-messages"])]),footer:d(()=>[g("div",S,[r(p,{color:"error",onClick:o[8]||(o[8]=s=>n.value=!1)},{default:d(()=>[i(" Close ")]),_:1}),r(p,{onClick:o[9]||(o[9]=s=>t(e).reset())},{default:d(()=>[i(" Clear Fields ")]),_:1}),r(p,{variant:"flat",color:"primary",onClick:y},{default:d(()=>[i(V(t(e).id?"Update":"Submit"),1)]),_:1})])]),_:1},8,["modelValue"])],64)}}};export{q as default};
