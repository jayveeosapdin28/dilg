import{_ as N}from"./InputLabel-DYgBIDAu.js";import{o as y,g as b,b as K,q as V,I as z,J as R,j as B,y as k,k as q,K as F,L as T,M as G,H as D,m as H,a as I,u as L,f as w,c as $,t as W}from"./app-CNfQWXbI.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";function Z(e,t){return y(),b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[K("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"})])}var Q=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],X=function(e){return Q.map(function(t){return t.toLowerCase()}).indexOf(e.toLowerCase())!==-1},Y=function(e,t,n){Object.keys(t).filter(X).forEach(function(r){var i=t[r];typeof i=="function"&&(r==="onInit"?i(e,n):n.on(r.substring(2),function(a){return i(a,n)}))})},ee=function(e,t,n,r){var i=e.modelEvents?e.modelEvents:null,a=Array.isArray(i)?i.join(" "):i;V(r,function(l,u){n&&typeof l=="string"&&l!==u&&l!==n.getContent({format:e.outputFormat})&&n.setContent(l)}),n.on(a||"change input undo redo",function(){t.emit("update:modelValue",n.getContent({format:e.outputFormat}))})},ne=function(e,t,n,r,i,a){r.setContent(a()),n.attrs["onUpdate:modelValue"]&&ee(t,n,r,i),Y(e,n.attrs,r)},M=0,A=function(e){var t=Date.now(),n=Math.floor(Math.random()*1e9);return M++,e+"_"+n+M+String(t)},te=function(e){return e!==null&&e.tagName.toLowerCase()==="textarea"},x=function(e){return typeof e>"u"||e===""?[]:Array.isArray(e)?e:e.split(" ")},oe=function(e,t){return x(e).concat(x(t))},re=function(e){return e==null},j=function(){return{listeners:[],scriptId:A("tiny-script"),scriptLoaded:!1}},ie=function(){var e=j(),t=function(i,a,l,u){var o=a.createElement("script");o.referrerPolicy="origin",o.type="application/javascript",o.id=i,o.src=l;var m=function(){o.removeEventListener("load",m),u()};o.addEventListener("load",m),a.head&&a.head.appendChild(o)},n=function(i,a,l){e.scriptLoaded?l():(e.listeners.push(l),i.getElementById(e.scriptId)||t(e.scriptId,i,a,function(){e.listeners.forEach(function(u){return u()}),e.scriptLoaded=!0}))},r=function(){e=j()};return{load:n,reinitialize:r}},ae=ie(),le=function(){return typeof window<"u"?window:global},f=function(){var e=le();return e&&e.tinymce?e.tinymce:null},ue={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return e==="html"||e==="text"}}},c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},c.apply(this,arguments)},de=function(e,t,n,r){return e(r||"div",{id:t,ref:n})},se=function(e,t,n){return e("textarea",{id:t,visibility:"hidden",ref:n})},E={selector:void 0,target:void 0},ce=z({props:ue,setup:function(e,t){var n=e.init?c(c({},e.init),E):c({},E),r=R(e),i=r.disabled,a=r.modelValue,l=r.tagName,u=B(null),o=null,m=e.id||A("tiny-vue"),p=e.init&&e.init.inline||e.inline,C=!!t.attrs["onUpdate:modelValue"],S=!0,O=e.initialValue?e.initialValue:"",h="",P=function(d){return C?function(){return a!=null&&a.value?a.value:""}:function(){return d?O:h}},g=function(){var d=P(S),s=c(c({},n),{readonly:e.disabled,target:u.value,plugins:oe(n.plugins,e.plugins),toolbar:e.toolbar||n.toolbar,inline:p,setup:function(v){o=v,v.on("init",function(_){return ne(_,e,t,v,a,d)}),typeof n.setup=="function"&&n.setup(v)}});te(u.value)&&(u.value.style.visibility=""),f().init(s),S=!1};V(i,function(d){var s;o!==null&&(typeof((s=o.mode)===null||s===void 0?void 0:s.set)=="function"?o.mode.set(d?"readonly":"design"):o.setMode(d?"readonly":"design"))}),V(l,function(d){var s;C||(h=o.getContent()),(s=f())===null||s===void 0||s.remove(o),k(function(){return g()})}),q(function(){if(f()!==null)g();else if(u.value&&u.value.ownerDocument){var d=e.cloudChannel?e.cloudChannel:"7",s=e.apiKey?e.apiKey:"no-api-key",v=re(e.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(s,"/tinymce/").concat(d,"/tinymce.min.js"):e.tinymceScriptSrc;ae.load(u.value.ownerDocument,v,g)}}),F(function(){f()!==null&&f().remove(o)}),p||(T(function(){S||g()}),G(function(){var d;C||(h=o.getContent()),(d=f())===null||d===void 0||d.remove(o)}));var U=function(d){var s;h=o.getContent(),(s=f())===null||s===void 0||s.remove(o),n=c(c(c({},n),d),E),k(function(){return g()})};return t.expose({rerender:U,getEditor:function(){return o}}),function(){return p?de(D,m,u,e.tagName):se(D,m,u)}}});const fe={class:"py-2 m-0 space-y-2 w-full relative",id:"wyswyg-editor"},ve={key:2,class:"text-red-500 text-sm"},me={__name:"Editor",props:{modelValue:String,id:{type:String,default:"name"},removable:Boolean,label:String,placeholder:String,error:String,required:Boolean,disabled:Boolean,rows:Number|String,autofocus:Boolean,type:{type:String,default:"text"}},emits:["update:modelValue","remove","init"],setup(e,{emit:t}){const n=e,r=t;B(null);const i=H({set:a=>{r("update:modelValue",a)},get:()=>n.modelValue});return B(!1),(a,l)=>{var u;return y(),b("div",fe,[e.removable?(y(),b("div",{key:0,onClick:l[0]||(l[0]=o=>a.$emit("remove")),class:"h-6 w-6 absolute rounded-full bg-white border border-red-500 hover:scale-110 hover:border-red-600 cursor-pointer -right-1 -top-1 z-40"},[I(L(Z),{class:"text-red-500 hover:text-red-600"})])):w("",!0),e.label?(y(),$(N,{key:1,for:"email",value:e.label,required:e.required},null,8,["value","required"])):w("",!0),I(L(ce),{"tinymce-script-src":"/js/tinymce/tinymce.min.js",init:{toolbar_mode:"sliding",plugins:"anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks wordcount linkchecker markdown",toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table | align lineheight | numlist bullist indent outdent | emoticons charmap | removeformat"},"initial-value":"Welcome to TinyMCE!",modelValue:i.value,"onUpdate:modelValue":l[1]||(l[1]=o=>i.value=o),onInit:l[2]||(l[2]=()=>r("init"))},null,8,["modelValue"]),(u=e.error)!=null&&u.length?(y(),b("span",ve,W(e.error),1)):w("",!0)])}}},be=J(me,[["__scopeId","data-v-080f1360"]]);export{be as E};
