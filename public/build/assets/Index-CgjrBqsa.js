import{_ as F}from"./AuthenticatedLayout-6LaKVH5Z.js";import{r as w,o as c,c as x,w as s,d as p,t as v,j as f,m as h,k as N,g,a as t,u as n,F as y,Q as b,Z as j,b as o,f as C,i as P}from"./app-DruF8ZfE.js";import{_ as R}from"./DataTable-Cewqam5l.js";import{_ as U,a as z}from"./ActionEdit-B0t4T9DL.js";import{u as E}from"./useCrud-s0xWPI_X.js";import H from"./TaskForm-6scGETyc.js";import{_ as I}from"./StatusBadge-TRBFrHjf.js";import{_ as L}from"./PageHeading-ZSijkkQi.js";import{u as M}from"./useRole-TUEYSig5.js";import{_ as Q}from"./ActionView-OuAX9aQU.js";import{u as Z}from"./useFormat-BdXiX6FE.js";import"./useConfirmMessage-CeUizKzx.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./lodash-t_LACH2W.js";import"./NavigationDrawer-BKvtE1bS.js";import"./filepond-plugin-image-preview.esm-CI_uTiYr.js";import"./Editor-BqbwfSFD.js";import"./InputLabel-qw_bZUfw.js";import"./dayjs.min-DbPbAUVG.js";const q={__name:"PriorityBadge",props:{status:String},setup(d){const i=l=>({low:"info",medium:"warning",high:"error"})[l.toLowerCase().replace(/\s+/g,"_")];return(l,r)=>{const _=w("VChip");return c(),x(_,{size:"small",color:i(d.status),variant:"tonal"},{default:s(()=>[p(v(d.status.toUpperCase()),1)]),_:1},8,["color"])}}},G={class:"space-x-4"},J=o("i",{class:"bi bi-plus mr-1"},null,-1),K={class:"overflow-y-auto"},O={class:"bg-white rounded-lg p-6"},W={class:"flex items-center gap-3"},X={class:"font-semibold text-sm hover:text-primary-600 hover:underline"},Y={class:"flex items-center justify-center gap-3"},ee={class:"flex items-center justify-center gap-3"},te={class:"flex justify-end items-center"},se="Tasks",Ce={__name:"Index",setup(d){const{hasRole:i}=M(),{date:l}=Z(),r=f([{label:"Name",field:"name"},{label:"Status",field:"status",align:"center"},{label:"Priority",field:"priority",align:"center"},{label:"Submitted Documents",field:"documents_count"},{label:"Comment",field:"comments"},{label:"Due Date",field:"due_date"},{label:"Due Date",field:"due_date"},{label:"Actions",field:"action",width:"5%"}]),_=h(()=>b().props.tasks),V=h(()=>b().props.store_id),m=f(!1),k=f({}),$=a=>{k.value={...a},m.value=!0},{destroy:D}=E(),A=a=>{D(route("admin.tasks.destroy",a))},B=[{name:"Tasks",href:"#",current:!0}];return N(()=>{(i("Super Admin")||i("Admin"))&&(r.value=r.value.filter(a=>a.field!=="status"))}),(a,u)=>{const S=w("VBtn");return c(),g(y,null,[t(n(j),{title:"Task"}),t(H,{modelValue:m.value,"onUpdate:modelValue":u[0]||(u[0]=e=>m.value=e),"store-id":V.value,data:k.value},null,8,["modelValue","store-id","data"]),t(F,null,{default:s(()=>[t(L,{title:se,pages:B},{action:s(()=>[o("div",G,[n(i)("Super Admin")||n(i)("Admin")?(c(),x(S,{key:0,onClick:u[1]||(u[1]=e=>m.value=!0),variant:"outlined",color:"primary"},{default:s(()=>[J,p(" Create ")]),_:1})):C("",!0)])]),_:1}),o("div",K,[o("div",O,[t(R,{class:"mb-12",columns:r.value,data:_.value,"filter-link":a.route("admin.tasks.index")},{column_name:s(({props:e})=>[o("div",W,[t(n(P),{href:a.route("admin.tasks.show",e.id)},{default:s(()=>[o("p",X,v(e.name),1)]),_:2},1032,["href"])])]),column_priority:s(({props:e})=>[o("div",Y,[t(q,{status:e.priority},null,8,["status"])])]),column_status:s(({props:e})=>[o("div",ee,[t(I,{status:e.status},null,8,["status"])])]),column_due_date:s(({props:e})=>[p(v(n(l)(e.due_date)),1)]),column_action:s(({props:e})=>[o("div",te,[t(Q,{link:"",href:a.route("admin.tasks.show",e.id)},null,8,["href"]),n(i)("Super Admin")||n(i)("Admin")?(c(),g(y,{key:0},[t(U,{onClick:T=>$(e)},null,8,["onClick"]),t(z,{onClick:T=>A(e.id)},null,8,["onClick"])],64)):C("",!0)])]),_:1},8,["columns","data","filter-link"])])])]),_:1})],64)}}};export{Ce as default};
